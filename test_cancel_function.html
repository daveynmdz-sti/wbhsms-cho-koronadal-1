<!DOCTYPE html>
<html>
<head>
    <title>Quick JavaScript Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-button { 
            padding: 10px 20px; 
            margin: 10px; 
            background: #dc3545; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
        }
        .test-button:hover { background: #c82333; }
        #output { 
            margin-top: 20px; 
            padding: 15px; 
            background: #f8f9fa; 
            border: 1px solid #dee2e6; 
            border-radius: 5px; 
        }
    </style>
</head>
<body>
    <h1>Quick JavaScript Test</h1>
    <p>This page tests if the showCancelModal function works in isolation.</p>
    
    <!-- Test buttons that match the ones in appointments.php -->
    <button class="test-button" onclick="showCancelModal(123, 'APT-00000123')">
        Test Cancel Modal (ID: 123)
    </button>
    
    <button class="test-button" onclick="showCancelModal(456, 'APT-00000456')">
        Test Cancel Modal (ID: 456)
    </button>
    
    <button class="test-button" onclick="testFunctionExists()">
        Check if Function Exists
    </button>
    
    <div id="output">
        <h3>Test Results:</h3>
        <div id="results"></div>
    </div>

    <script>
        // Exact same function definition as in appointments.php
        let currentCancelAppointmentId = null;

        function showCancelModal(appointmentId, appointmentNumber) {
            console.log('showCancelModal called with:', appointmentId, appointmentNumber);
            currentCancelAppointmentId = appointmentId;
            
            const results = document.getElementById('results');
            results.innerHTML += `<p><strong>✅ SUCCESS:</strong> showCancelModal(${appointmentId}, "${appointmentNumber}") executed successfully at ${new Date().toLocaleTimeString()}</p>`;
            
            alert(`Cancel Modal Test Successful!\n\nAppointment ID: ${appointmentId}\nAppointment Number: ${appointmentNumber}\n\nThis confirms the function works correctly.`);
        }

        function testFunctionExists() {
            const results = document.getElementById('results');
            if (typeof showCancelModal === 'function') {
                results.innerHTML += `<p><strong>✅ PASS:</strong> showCancelModal function is properly defined</p>`;
                console.log('Function test PASSED');
            } else {
                results.innerHTML += `<p><strong>❌ FAIL:</strong> showCancelModal function is not defined</p>`;
                console.error('Function test FAILED');
            }
        }

        // Auto-test on page load
        window.onload = function() {
            console.log('Test page loaded');
            testFunctionExists();
        };
    </script>
</body>
</html>